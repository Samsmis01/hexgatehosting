version : 1
services:
  - type: web
    name: hexgate-bot
    env: node
    region: frankfurt  # Meilleur pour l'Afrique (RD Congo)
    branch: main
    rootDir: .
    buildCommand: |
      echo "üöÄ Installation des d√©pendances..."
      npm install
      echo "üìÅ Cr√©ation des dossiers n√©cessaires..."
      mkdir -p auth_info_baileys deleted_messages viewOnce deleted_images website
      echo "‚úÖ Build termin√©"
    startCommand: node index.js
    healthCheckPath: /health
    healthCheckTimeout: 30
    autoDeploy: true
    disk:
      name: whatsapp-auth
      mountPath: /opt/render/project/src/auth_info_baileys
      sizeGB: 1
    envVars:
      - key: NODE_VERSION
        value: 18.17.0
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      - key: TZ
        value: Africa/Kinshasa
    plan: free
    numInstances: 1
