version: 1
services:
  - type: web
    name: hexgate-bot
    env: node
    region: frankfurt
    buildCommand: |
      echo "ğŸš€ Installation des dÃ©pendances..."
      # Ignorer les vÃ©rifications d'engine
      npm config set engine-strict false
      # Installer avec legacy peer deps
      npm install --legacy-peer-deps --ignore-engines
      echo "ğŸ“ CrÃ©ation des dossiers..."
      mkdir -p auth_info_baileys deleted_messages viewOnce deleted_images website
      echo "âœ… Build terminÃ©"
    startCommand: node index.js
    healthCheckPath: /health
    envVars:
      - key: NODE_VERSION
        value: 20.11.0  # Ou 21.x
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
    autoDeploy: true
    plan: free
